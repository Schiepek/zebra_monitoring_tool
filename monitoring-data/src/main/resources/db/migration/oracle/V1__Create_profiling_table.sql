CREATE TABLE PROFILING
  (
    ID                             NUMBER PRIMARY KEY,
    CLIENT                         VARCHAR(255) NOT NULL,
    ENVIRONMENT                    VARCHAR(255) NOT NULL,
    SOURCE_FILENAME                VARCHAR(255) NOT NULL,
    USECASE_ID                     VARCHAR(255),
    SERVER_EXECUTION_TIME_MS       NUMBER(*,2),
    SERVER_WAIT_TIME_MS            NUMBER(*,2),
    SERVER_EXEC_NO_WAIT_TIME_MS    NUMBER(*,2),
    SERVER_OVERHEAD_TIME_MS        NUMBER(*,2),
    REQUEST_ID                     NUMBER(*,2),
    SESSION_ID                     VARCHAR(255),
    SESSION_AGE_IN_MINUTES         NUMBER(*,2),
    USER_AGENT                     VARCHAR(255),
    HOST                           VARCHAR(255),
    CLIENT_IP_ADDRESS              VARCHAR(255),
    USECASE_EXPECTS_NAV_TIME       NUMBER(1,0) CHECK (USECASE_EXPECTS_NAV_TIME IN(1,0)),
    STATEMENTS_EXECUTED            NUMBER(*,2),
    TOTAL_EXECUTION_TIME_MS        NUMBER(*,2),
    TOTAL_FETCH_TIME_MS            NUMBER(*,2),
    TOTAL_DATABASE_TIME_MS         NUMBER(*,2),
    MANDANT                        VARCHAR(255),
    LOGIN_NAME                     VARCHAR(255),
    FOCUS_DATE                     DATE,
    FOCUS_DATE_MINUS_SYSTEMDATE    NUMBER(*,2),
    FOCUS_KST_NUMMER               VARCHAR(255),
    FOCUS_KST_NR_OF_MITARBEITER    NUMBER(*,2),
    NR_OF_ACC_KOSTENSTELLE_TODAY   NUMBER(*,2),
    LIMIT_PEE_NUMMER               VARCHAR(255),
    SYS_DATETIME                   TIMESTAMP,
    WEEKDAY                        VARCHAR(255),
    ZEITART_NUMMER                 VARCHAR(255),
    MIN_ACTION_DATE                DATE,
    MAX_ACTION_DATE                DATE,
    MIN_ACTION_DATE_MINUS_SYSDAYS  NUMBER(*,2),
    MAX_ACTION_DATE_MINUS_SYSDAYS  NUMBER(*,2),
    ACTION_DATE_INTEVAL_DAYS       NUMBER(*,2),
    BW_DAUER_MS                    NUMBER(*,2),
    BW_MODE                        VARCHAR(255),
    PLANUNGEN_GENERIEREN_TAGE      NUMBER(*,2),
    PLANUNGEN_GENERIEREN_DAUER_MS  NUMBER(*,2),
    SOLL_GLEICH_IST_TAGE           NUMBER(*,2),
    SOLL_GLEICH_IST_DAUER_MS       NUMBER(*,2),
    BUCHUNGSLAUF_TAGE              NUMBER(*,2),
    BUCHUNGSLAUF_DAUER_MS          NUMBER(*,2),
    KONTOLAUF_TAGE                 NUMBER(*,2),
    KONTOLAUF_DAUER_MS             NUMBER(*,2),
    KONTOLAUF_ITERATIONEN          NUMBER(*,2),
    PLANUNGEN_NEURECHNEN_TAGE      NUMBER(*,2),
    PLANUNGEN_NEURECHNEN_DAUER_MS  NUMBER(*,2),
    FORCE_PLANUNG_NEURECHNEN       NUMBER(1,0) CHECK (FORCE_PLANUNG_NEURECHNEN IN(1,0)),
    ZEITART_REGEL_ENFORCM_ANZAHL   NUMBER(*,2),
    ZEITART_REGEL_ENFORCM_DAUER_MS NUMBER(*,2),
    WOCHE_NEU_RECHNEN_ANZAHL       NUMBER(*,2),
    WOCHE_NEU_RECHNEN_DAUER_MS     NUMBER(*,2),
    SYSTEM_CPU_LOAD                NUMBER(*,2),
    PROCESS_CPU_LOAD               NUMBER(*,2),
    SYSTEM_LOAD_AVERAGE            NUMBER(*,2),
    ZEBRA_VERSION                  VARCHAR(255),
    JAVA_VERSION                   VARCHAR(255),
    PAGE_LOADS_PER_SECOND          NUMBER(*,2),
    ACTIVE_SESSIONS_1              NUMBER(*,2),
    ACTIVE_SESSIONS_5              NUMBER(*,2),
    REAL_SERVER_TIME               NUMBER(1,0) CHECK (REAL_SERVER_TIME         IN(1,0)),
    NAVIGATION_TIME_RECEIVED       NUMBER(1,0) CHECK (NAVIGATION_TIME_RECEIVED IN(1,0)),
    NAVIGATION_START               NUMBER(*,2),
    UNLOAD_EVENT_START             NUMBER(*,2),
    UNLOAD_EVENT_END               NUMBER(*,2),
    UNLOAD_EVENT_DURATION          NUMBER(*,2),
    REDIRECT_START                 NUMBER(*,2),
    REDIRECT_END                   NUMBER(*,2),
    REDIRECT_DURATION              NUMBER(*,2),
    FETCH_START                    NUMBER(*,2),
    DOMAIN_LOOKUP_START            NUMBER(*,2),
    DOMAIN_LOOKUP_END              NUMBER(*,2),
    DOMAIN_LOOKUP_DURATION         NUMBER(*,2),
    CONNECT_START                  NUMBER(*,2),
    CONNECT_END                    NUMBER(*,2),
    CONNECT_DURATION               NUMBER(*,2),
    REQUEST_START                  NUMBER(*,2),
    RESPONSE_START                 NUMBER(*,2),
    RESPONSE_END                   NUMBER(*,2),
    RESPONSE_DURATION              NUMBER(*,2),
    REQUEST_TO_RESPONSE_DURATION   NUMBER(*,2),
    DOM_LOADING                    NUMBER(*,2),
    DOM_INTERACTIVE                NUMBER(*,2),
    DOM_CONTENT_LOADED_EVENT_START NUMBER(*,2),
    DOM_CONTENT_LOADED_EVENT_END   NUMBER(*,2),
    DOM_CONTENT_LOADED_EVENT       NUMBER(*,2),
    DOM_COMPLETE_DURATION          NUMBER(*,2),
    LOAD_EVENT_START               NUMBER(*,2),
    LOAD_EVENT_END                 NUMBER(*,2),
    LOAD_EVENT_DURATION            NUMBER(*,2),
    LATENCY_DURATION               NUMBER(*,2),
    PAGE_LOAD_DURATION             NUMBER(*,2),
    TOTAL_TIME_DURATION            NUMBER(*,2),
    MS_FIRST_PAINT                 NUMBER(*,2),
    MS_FIRST_PAINT_NAVSTARTDUR_MS  NUMBER(*,2),
    MS_FIRST_PAINT_LOAD_ENDDUR_MS  NUMBER(*,2),
    TYPE_NAME                      VARCHAR(255),
    REDIRECT_COUNT                 NUMBER(*,2)
  );

CREATE sequence S_PROFILING start with 1 increment BY 1 nomaxvalue;
CREATE TRIGGER T_PROFILING before
  INSERT ON profiling FOR EACH row BEGIN
  SELECT S_PROFILING.nextval INTO :new.id FROM dual;
END;
/

CREATE INDEX I_PROFILING_1 ON PROFILING(CLIENT, ENVIRONMENT, USECASE_ID);
CREATE INDEX I_PROFILING_2 ON PROFILING(CLIENT, ENVIRONMENT, TRUNC(SYS_DATETIME));
CREATE INDEX I_PROFILING_3 ON PROFILING(CLIENT, ENVIRONMENT, SOURCE_FILENAME);
